<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>URL Rewriting - Slim Framework v2</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Slim Framework v2</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Get Started</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../start/get-started">Get started</a>
                    
                </li>
            
        

    
        
        <span>Configuration</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../configuration/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../configuration/settings">Settings</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../configuration/names-and-scopes">Names and Scopes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../configuration/modes">Modes</a>
                    
                </li>
            
        

    
        
        <span>Routing</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../get">GET Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../post">POST Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../put">PUT Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../delete">DELETE Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../options">OPTIONS Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../patch">PATCH Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../custom">Custom Routes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../params">Parameters</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../names">Names</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../conditions">Conditions</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../middleware">Middleware</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../groups">Groups</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../helpers">Helpers</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">URL Rewriting</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#apache-and-mod_rewrite">Apache and mod_rewrite</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#nginx">nginx</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#without-url-rewriting">Without URL Rewriting</a></li>
                            
                        
                        </ul>
                    
                </li>
            
        

    
        
        <span>Environment</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../environment/overview">Overview</a>
                    
                </li>
            
        

    
        
        <span>Request</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/method">Method</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/headers">Headers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/body">Body</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/variables">Variables</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/cookies">Cookies</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/paths">Paths</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/xhr">XHR</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/helpers">Helpers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../request/content-types">Content-Types</a>
                    
                </li>
            
        

    
        
        <span>Response</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/status">Status</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/headers">Headers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/body">Body</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/cookies">Cookies</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../response/helpers">Helpers</a>
                    
                </li>
            
        

    
        
        <span>View</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../view/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../view/rendering">Rendering</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../view/custom">Custom</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../view/data">Data</a>
                    
                </li>
            
        

    
        
        <span>HTTP Cache</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../cache/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../cache/etag">ETag</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../cache/lastmodified">Last Modified</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../cache/expires">Expires</a>
                    
                </li>
            
        

    
        
        <span>Middleware</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../middleware/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../middleware/how-to-use">How to Use</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../middleware/how-to-write">How to Write</a>
                    
                </li>
            
        

    
        
        <span>Hooks</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../hooks/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../hooks/how-to-use">How to Use</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../hooks/defaults">Defaults</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../hooks/custom">Custom</a>
                    
                </li>
            
        

    
        
        <span>Flash Messages</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../flash/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../flash/next">Next</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../flash/now">Now</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../flash/keep">Keep</a>
                    
                </li>
            
        

    
        
        <span>Sessions</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../sessions/native">Native</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../sessions/cookies">Cookies</a>
                    
                </li>
            
        

    
        
        <span>Logging</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../logging/activate">Activate</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../logging/levels">Levels</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../logging/writers">Writers</a>
                    
                </li>
            
        

    
        
        <span>Error Handling</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../errors/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../errors/500">500 System Error</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../errors/404">404 Not Found</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../errors/debug">Debug Mode</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../errors/output">Output</a>
                    
                </li>
            
        

    
        
        <span>Dependency Injection</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../di/overview">Overview</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>URL Rewriting</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <p>I strongly encourage you to use a web server that supports URL rewriting; this will let you enjoy clean, human-friendly
URLs with your Slim application. To enable URL rewriting, you should use the appropriate tools provided by your
web server to forward all HTTP requests to the PHP file in which you instantiate and run your Slim application.
The following are sample, bare minimum, configurations for Apache with mod_php and nginx. These are not meant to
be production ready configurations but should be enough to get you up and running. To read more on server deployment
in general you can continue reading <a href="http://www.phptherightway.com">http://www.phptherightway.com</a>.</p>
<h3 id="apache-and-mod_rewrite">Apache and mod_rewrite</h3>
<p>Here is an example directory structure:</p>
<pre><code>/path/www.mysite.com/
    public_html/ &lt;-- Document root!
        .htaccess
        index.php &lt;-- I instantiate Slim here!
    lib/
        Slim/ &lt;-- I store Slim lib files here!
</code></pre>
<p>The <strong>.htaccess</strong> file in the directory structure above contains:</p>
<pre><code>RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [QSA,L]
</code></pre>
<p>You also need a directory directive to enable <strong>.htaccess</strong> files and allow the <strong>RewriteEngine</strong> directive to be used.
This is sometimes done globally in the <strong>httpd.conf</strong> file, but its generally a good idea to limit the directive to
just your virtual host by enclosing it in your <strong>VirtualHost</strong> configuration block. This is generally setup in your
configuration in the form of:</p>
<pre><code>&lt;VirtualHost *:80&gt;
    ServerAdmin me@mysite.com
    DocumentRoot "/path/www.mysite.com/public_html"
    ServerName mysite.com
    ServerAlias www.mysite.com

    #ErrorLog "logs/mysite.com-error.log"
    #CustomLog "logs/mysite.com-access.log" combined

    &lt;Directory "/path/www.mysite.com/public_html"&gt;
        AllowOverride All
        Order allow,deny
        Allow from all
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>
<p>As a result, Apache will send all requests for non-existent files to my <strong>index.php</strong> script in which I instantiate
and run my Slim application. With URL rewriting enabled and assuming the following Slim application is defined in
<strong>index.php</strong>, you can access the application route below at “/foo” rather than “/index.php/foo”.</p>
<pre><code>&lt;?php
$app = new \Slim\Slim();
$app-&gt;get('/foo', function () {
    echo "Foo!";
});
$app-&gt;run();
</code></pre>
<h3 id="nginx">nginx</h3>
<p>We will use the same example directory structure as before, but with nginx our configuration will go into <strong>nginx.conf</strong>.</p>
<pre><code>/path/www.mysite.com/
    public_html/ &lt;-- Document root!
        index.php &lt;-- I instantiate Slim here!
    lib/
        Slim/ &lt;-- I store Slim lib files here!
</code></pre>
<p>Here is a snippet of a <strong>nginx.conf</strong> in which we use the <strong>try_files</strong> directive to serve the file if it exists,
good for static files (images, css, js etc), and otherwise forward it on to the <strong>index.php</strong> file.</p>
<pre><code>server {
    listen       80;
    server_name  www.mysite.com mysite.com;
    root         /path/www.mysite.com/public_html;

    try_files $uri /index.php;

    # this will only pass index.php to the fastcgi process which is generally safer but
    # assumes the whole site is run via Slim.
    location /index.php {
        fastcgi_connect_timeout 3s;     # default of 60s is just too long
        fastcgi_read_timeout 10s;       # default of 60s is just too long
        include fastcgi_params;
        fastcgi_pass 127.0.0.1:9000;    # assumes you are running php-fpm locally on port 9000
    }
}
</code></pre>
<p>Most installations will have a default <strong>fastcgi_params</strong> file setup that you can just include as shown above.
Some configurations don’t include the <strong>SCRIPT_FILENAME</strong> parameter. You must ensure you include this parameter
otherwise you might end up with a No input file specified error from the fastcgi process. This can be done directly
in the location block or simply added to the <strong>fastcgi_params</strong> file. Either way it looks like this:</p>
<pre><code>fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
</code></pre>
<h3 id="without-url-rewriting">Without URL Rewriting</h3>
<p>Slim will work without URL rewriting. In this scenario, you must include the name of the PHP file in which you
instantiate and run the Slim application in the resource URI. For example, assume the following Slim application
is defined in <strong>index.php</strong> at the top level of your virtual host’s document root:</p>
<pre><code>&lt;?php
$app = new \Slim\Slim();
$app-&gt;get('/foo', function () {
    echo "Foo!";
});
$app-&gt;run();
</code></pre>
<p>You can access the defined route at “/index.php/foo”. If the same application is instead defined in <strong>index.php</strong>
inside of the physical subdirectory blog/, you can access the defined route at /blog/index.php/foo.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../environment/overview" class="btn btn-neutral float-right" title="Overview"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../helpers" class="btn btn-neutral" title="Helpers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../helpers" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../../environment/overview" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>